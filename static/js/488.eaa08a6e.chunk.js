"use strict";(self.webpackChunkhappy_birthday=self.webpackChunkhappy_birthday||[]).push([[488],{488(e,t,n){n.d(t,{onCLS:()=>w,onFCP:()=>L,onLCP:()=>F,onTTFB:()=>B});let i=-1;const r=e=>{addEventListener("pageshow",t=>{t.persisted&&(i=t.timeStamp,e(t))},!0)},s=(e,t,n,i)=>{let r,s;return o=>{t.value>=0&&(o||i)&&(s=t.value-(r??0),(s||void 0===r)&&(r=t.value,t.delta=s,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},o=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},a=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},c=()=>{const e=a();return e?.activationStart??0},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=a();let r="navigate";return i>=0?r="back-forward-cache":n&&(document.prerendering||c()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},l=new WeakMap;function p(e,t){return l.get(e)||l.set(e,new t),l.get(e)}class u{t;i=0;o=[];h(e){if(e.hadRecentInput)return;const t=this.o[0],n=this.o.at(-1);this.i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}const h=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const i=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return i.observe({type:e,buffered:!0,...n}),i}}catch{}},m=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let v=-1;const g=new Set,f=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,y=e=>{if("hidden"===document.visibilityState){if("visibilitychange"===e.type)for(const e of g)e();isFinite(v)||(v="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("prerenderingchange",y,!0))}},T=()=>{if(v<0){const e=c(),t=document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;v=t??f(),addEventListener("visibilitychange",y,!0),addEventListener("prerenderingchange",y,!0),r(()=>{setTimeout(()=>{v=f()})})}return{get firstHiddenTime(){return v},onHidden(e){g.add(e)}}},b=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},C=[1800,3e3],L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(()=>{const n=T();let i,a=d("FCP");const l=h("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(l.disconnect(),t.startTime<n.firstHiddenTime&&(a.value=Math.max(t.startTime-c(),0),a.entries.push(t),i(!0)))});l&&(i=s(e,a,C,t.reportAllChanges),r(n=>{a=d("FCP"),i=s(e,a,C,t.reportAllChanges),o(()=>{a.value=performance.now()-n.timeStamp,i(!0)})}))})},S=[.1,.25],w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=T();L(m(()=>{let i,a=d("CLS",0);const c=p(t,u),l=e=>{for(const t of e)c.h(t);c.i>a.value&&(a.value=c.i,a.entries=c.o,i())},m=h("layout-shift",l);m&&(i=s(e,a,S,t.reportAllChanges),n.onHidden(()=>{l(m.takeRecords()),i(!0)}),r(()=>{c.i=0,a=d("CLS",0),i=s(e,a,S,t.reportAllChanges),o(()=>i())}),setTimeout(i))}))};const E=e=>{const t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=m(e),addEventListener("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),removeEventListener("visibilitychange",e,{capture:!0})}))};class k{m;h(e){this.m?.(e)}}const A=[2500,4e3],F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(()=>{const n=T();let i,a=d("LCP");const l=p(t,k),u=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)l.h(t),t.startTime<n.firstHiddenTime&&(a.value=Math.max(t.startTime-c(),0),a.entries=[t],i())},v=h("largest-contentful-paint",u);if(v){i=s(e,a,A,t.reportAllChanges);const n=m(()=>{u(v.takeRecords()),v.disconnect(),i(!0)}),c=e=>{e.isTrusted&&(E(n),removeEventListener(e.type,c,{capture:!0}))};for(const e of["keydown","click","visibilitychange"])addEventListener(e,c,{capture:!0});r(n=>{a=d("LCP"),i=s(e,a,A,t.reportAllChanges),o(()=>{a.value=performance.now()-n.timeStamp,i(!0)})})}})},P=[800,1800],M=e=>{document.prerendering?b(()=>M(e)):"complete"!==document.readyState?addEventListener("load",()=>M(e),!0):setTimeout(e)},B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=d("TTFB"),i=s(e,n,P,t.reportAllChanges);M(()=>{const o=a();o&&(n.value=Math.max(o.responseStart-c(),0),n.entries=[o],i(!0),r(()=>{n=d("TTFB",0),i=s(e,n,P,t.reportAllChanges),i(!0)}))})}}}]);
//# sourceMappingURL=488.eaa08a6e.chunk.js.map