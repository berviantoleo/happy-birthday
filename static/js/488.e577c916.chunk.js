"use strict";(self.webpackChunkhappy_birthday=self.webpackChunkhappy_birthday||[]).push([[488],{488:(e,t,n)=>{n.r(t),n.d(t,{CLSThresholds:()=>L,FCPThresholds:()=>b,INPThresholds:()=>x,LCPThresholds:()=>q,TTFBThresholds:()=>D,onCLS:()=>S,onFCP:()=>P,onINP:()=>N,onLCP:()=>_,onTTFB:()=>$});let i=-1;const r=e=>{addEventListener("pageshow",t=>{t.persisted&&(i=t.timeStamp,e(t))},!0)},o=(e,t,n,i)=>{let r,o;return s=>{t.value>=0&&(s||i)&&(o=t.value-(r??0),(o||void 0===r)&&(r=t.value,t.delta=o,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},s=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},a=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},l=()=>{const e=a();return e?.activationStart??0},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=a();let r="navigate";return i>=0?r="back-forward-cache":n&&(document.prerendering||l()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},c=new WeakMap;function h(e,t){return c.get(e)||c.set(e,new t),c.get(e)}class u{t;i=0;o=[];h(e){if(e.hadRecentInput)return;const t=this.o[0],n=this.o.at(-1);this.i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}const p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const i=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return i.observe({type:e,buffered:!0,...n}),i}}catch{}},m=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let f=-1;const v=new Set,g=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,T=e=>{if("hidden"===document.visibilityState){if("visibilitychange"===e.type)for(const e of v)e();isFinite(f)||(f="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("prerenderingchange",T,!0))}},y=()=>{if(f<0){const e=l(),t=document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;f=t??g(),addEventListener("visibilitychange",T,!0),addEventListener("prerenderingchange",T,!0),r(()=>{setTimeout(()=>{f=g()})})}return{get firstHiddenTime(){return f},onHidden(e){v.add(e)}}},C=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},b=[1800,3e3],P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C(()=>{const n=y();let i,a=d("FCP");const c=p("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(c.disconnect(),t.startTime<n.firstHiddenTime&&(a.value=Math.max(t.startTime-l(),0),a.entries.push(t),i(!0)))});c&&(i=o(e,a,b,t.reportAllChanges),r(n=>{a=d("FCP"),i=o(e,a,b,t.reportAllChanges),s(()=>{a.value=performance.now()-n.timeStamp,i(!0)})}))})},L=[.1,.25],S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=y();P(m(()=>{let i,a=d("CLS",0);const l=h(t,u),c=e=>{for(const t of e)l.h(t);l.i>a.value&&(a.value=l.i,a.entries=l.o,i())},m=p("layout-shift",c);m&&(i=o(e,a,L,t.reportAllChanges),n.onHidden(()=>{c(m.takeRecords()),i(!0)}),r(()=>{l.i=0,a=d("CLS",0),i=o(e,a,L,t.reportAllChanges),s(()=>i())}),setTimeout(i))}))};let E=0,w=1/0,A=0;const I=e=>{for(const t of e)t.interactionId&&(w=Math.min(w,t.interactionId),A=Math.max(A,t.interactionId),E=A?(A-w)/7+1:0)};let k;const F=()=>k?E:performance.interactionCount??0;let M=0;class B{u=[];l=(()=>new Map)();m;p;v(){M=F(),this.u.length=0,this.l.clear()}L(){const e=Math.min(this.u.length-1,Math.floor((F()-M)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&"first-input"!==e.entryType)return;const t=this.u.at(-1);let n=this.l.get(e.interactionId);if(n||this.u.length<10||e.duration>t.P){if(n?e.duration>n.P?(n.entries=[e],n.P=e.duration):e.duration===n.P&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],P:e.duration},this.l.set(n.id,n),this.u.push(n)),this.u.sort((e,t)=>t.P-e.P),this.u.length>10){const e=this.u.splice(10);for(const t of e)this.l.delete(t.id)}this.p?.(n)}}}const H=e=>{const t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=m(e),addEventListener("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),removeEventListener("visibilitychange",e,{capture:!0})}))},x=[200,500],N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const n=y();C(()=>{"interactionCount"in performance||k||(k=p("event",I,{type:"event",buffered:!0,durationThreshold:0}));let i,s=d("INP");const a=h(t,B),l=e=>{H(()=>{for(const n of e)a.h(n);const t=a.L();t&&t.P!==s.value&&(s.value=t.P,s.entries=t.entries,i())})},c=p("event",l,{durationThreshold:t.durationThreshold??40});i=o(e,s,x,t.reportAllChanges),c&&(c.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{l(c.takeRecords()),i(!0)}),r(()=>{a.v(),s=d("INP"),i=o(e,s,x,t.reportAllChanges)}))})};class R{m;h(e){this.m?.(e)}}const q=[2500,4e3],_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C(()=>{const n=y();let i,a=d("LCP");const c=h(t,R),u=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)c.h(t),t.startTime<n.firstHiddenTime&&(a.value=Math.max(t.startTime-l(),0),a.entries=[t],i())},f=p("largest-contentful-paint",u);if(f){i=o(e,a,q,t.reportAllChanges);const n=m(()=>{u(f.takeRecords()),f.disconnect(),i(!0)}),l=e=>{e.isTrusted&&(H(n),removeEventListener(e.type,l,{capture:!0}))};for(const e of["keydown","click","visibilitychange"])addEventListener(e,l,{capture:!0});r(n=>{a=d("LCP"),i=o(e,a,q,t.reportAllChanges),s(()=>{a.value=performance.now()-n.timeStamp,i(!0)})})}})},D=[800,1800],O=e=>{document.prerendering?C(()=>O(e)):"complete"!==document.readyState?addEventListener("load",()=>O(e),!0):setTimeout(e)},$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=d("TTFB"),i=o(e,n,D,t.reportAllChanges);O(()=>{const s=a();s&&(n.value=Math.max(s.responseStart-l(),0),n.entries=[s],i(!0),r(()=>{n=d("TTFB",0),i=o(e,n,D,t.reportAllChanges),i(!0)}))})}}}]);
//# sourceMappingURL=488.e577c916.chunk.js.map